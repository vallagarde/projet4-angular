<form>
  <div class="row">
    <div class="col-4 m-4">
      <div class="container m-4 P5">

        <div class="form-group">
          <mat-form-field [style.width.px]=327 appearance="fill">
            <mat-label>titre</mat-label>
            <input matInput name="titre" [(ngModel)]="form.seance.titre" required #description="ngModel"
              (keyup)="onKeyTitre($event)">
          </mat-form-field>
        </div>

        <div class="form-group">
          <mat-form-field [style.width.px]=327 appearance="fill">
            <mat-label>description</mat-label>
            <textarea matInput name="description" [(ngModel)]="form.seance.description" required #description="ngModel"
              (keyup)="onKeyDesc($event)" cdkTextareaAutosize cdkAutosizeMinRows="12"
              cdkAutosizeMaxRows="12"></textarea>
          </mat-form-field>
        </div>

        <div class="form-group">
          <mat-form-field [style.width.px]=327 appearance="fill">
            <mat-label>latitude</mat-label>
            <input matInput type="number" name="latitude" [(ngModel)]="form.latitude" required #description="ngModel">
          </mat-form-field>
        </div>

        <div class="form-group">
          <mat-form-field [style.width.px]=327 appearance="fill">
            <mat-label>longitude</mat-label>
            <input matInput type="number" name="longitude" [(ngModel)]="form.longitude" required #description="ngModel">
          </mat-form-field>
        </div>

      </div>
    </div>


    <div class="col-6 m-4">
      <app-map [markerComp]="markComp" (childToParent)="createCoord($event)"></app-map>


    </div>
  </div>

  <table class="table" *ngIf="asPrise">
    <thead>
      <tr>
        <th scope="col">Prise</th>
        <th scope="col">Espece</th>
        <th scope="col">Taille</th>
        <th scope="col">Poids</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let prise of prises">
        <th></th>
        <td>{{prise.espece}}</td>
        <td>{{prise.taille}}</td>
        <td>{{prise.poids}}</td>
      </tr>

    </tbody>
  </table>



  <mat-accordion class="example-headers-align">
    <mat-expansion-panel hideToggle>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Ajouter une prise
        </mat-panel-title>
        <mat-panel-description>
        </mat-panel-description>
      </mat-expansion-panel-header>
      <app-prise (childToParent)="createPrise($event)"></app-prise>
    </mat-expansion-panel>
    <mat-expansion-panel hideToggle>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Meteo
        </mat-panel-title>
        <mat-panel-description *ngIf="asMeteo">
          Temperature: {{_meteo.temp}}
        </mat-panel-description>
      </mat-expansion-panel-header>
      <app-meteo (childToParent)="getMeteo($event)"></app-meteo>
    </mat-expansion-panel>
  </mat-accordion>


  <div class="container">
    <div class="row">
      <div class="col-md-12 text-center mt-5">
        <div class="form-group">
          <button mat-raised-button color="primary" (click)="createSeance()">
            Ajouter Seance
          </button>
        </div>
      </div>
    </div>
  </div>


</form>
